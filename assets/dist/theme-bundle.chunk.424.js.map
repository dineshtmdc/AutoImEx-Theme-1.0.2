{"version":3,"file":"theme-bundle.chunk.424.js","mappings":"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","sources":["webpack://bigcommerce-cornerstone/./assets/js/theme/autoimex/autoimex_AZbrands.js","webpack://bigcommerce-cornerstone/./assets/js/theme/brands.js"],"sourcesContent":["import $ from 'jquery';\nimport utils from '@bigcommerce/stencil-utils';\n\n\nexport default class AZBrands {\n    loaded(limit) {\n        const $brands = $('[data-brands-list]');\n        if ($brands.length > 0) {\n            const $atozBrands = $(document.getElementById($brands.data('azbrands')));\n            if ($atozBrands.length > 0) {\n                this.generateAtoZBrands($atozBrands);\n                this.updateAtoZBrands($brands, $atozBrands);\n            }\n            const url = $brands.data('brands-list-next');\n            console.log(url);\n            if (url) {\n                this.loadMoreBrands($brands, url, true, limit);\n            }\n        }\n    }\n\n    generateAtoZBrands($atozBrands) {\n        const azBrandsTableID = `${$atozBrands.attr('id')}Table`;\n        const $atozBrandsTable = $(`#${azBrandsTableID}`);\n\n        $atozBrandsTable.append('<li data-letter=\"\"><a href=\"#\">All</a></li>');\n        var ch = '#';\n        $atozBrands.append(`<div class=\"azBrands-group\" data-letter=\"${ch}\" id=\"azBrands-code-123\"><h3 class=\"azBrands-group-title\">${ch}</h3><ul class=\"brandList\"></ul></div>`);\n        $atozBrandsTable.append(`<li data-letter=\"${ch}\"><a href=\"#azBrands-code-123\" data-target=\"azBrands-code-123\">${ch}</a></li>`);\n\n        for (let i = 97; i < 123; i++) {\n            let ch = '#';\n            if (i < 123) {\n                ch = String.fromCharCode(i);\n            }\n            $atozBrands.append(`<div class=\"azBrands-group\" data-letter=\"${ch}\" id=\"azBrands-code-${i}\"><h3 class=\"azBrands-group-title\">${ch}</h3><ul class=\"brandList\"></ul></div>`);\n            $atozBrandsTable.append(`<li data-letter=\"${ch}\"><a href=\"#azBrands-code-${i}\" data-target=\"azBrands-code-${i}\">${ch}</a></li>`);\n        }\n\n        $atozBrands.addClass('active-all');\n        $atozBrands.children().addClass('is-active');\n        $atozBrandsTable.children(':first').addClass('is-active');\n\n        $atozBrandsTable.on('click', 'a', (event) => {\n            event.preventDefault();\n\n            const $a = $(event.target);\n\n            $atozBrandsTable.children('li').removeClass('is-active');\n            $a.parent().addClass('is-active');\n\n            const target = $a.data('target');\n            if (target) {\n                $atozBrands.children('.azBrands-group').removeClass('is-active');\n                $atozBrands.children(`#${target}`).addClass('is-active');\n                $atozBrands.removeClass('active-all');\n            } else {\n                $atozBrands.children('.azBrands-group').addClass('is-active');\n                $atozBrands.addClass('active-all');\n            }\n        });\n    }\n\n    updateAtoZBrands($brands, $atozBrands) {\n        const $atozBrandsTable = $(`#${$atozBrands.attr('id')}Table`);\n        $brands.children('.brand').each((i, el) => {\n            const $el = $(el);\n            const code = String($el.data('brand-code'));\n            const letter = code.charAt(0).toLowerCase();\n\n            let $group = $atozBrands.children(`[data-letter=${letter}]`);\n            if ($group.length === 0) {\n                $group = $atozBrands.children(':first');\n            }\n\n            let $li = $atozBrandsTable.children(`[data-letter=${letter}]`);\n            if ($li.length === 0) {\n                $li = $atozBrandsTable.children(':last');\n            }\n\n            const $brandList = $group.find('.brandList');\n\n            let $elIns;\n            $brandList.children('.brand').each((j, el2) => {\n                const $el2 = $(el2);\n                const code2 = $el2.data('brand-code');\n\n                if (code < code2) {\n                    $elIns = $el2;\n                } else {\n                    return false;\n                }\n            });\n            if ($elIns) {\n                $el.insertAfter($elIns);\n            } else {\n                $el.appendTo($brandList);\n            }\n        });\n\n        setTimeout(function(){ \n            $('#azBrands .azBrands-group ul').each(function(e){\n                var check = ($(this).find(\"li\").length);\n                if(check === 0){\n                    $(this).prev(\".azBrands-group-title\").addClass(\"not_valued\");\n                }\n            });\n\n            $atozBrands.children().each(function(){\n                var temp = $(this).find(\".azBrands-group-title.not_valued\").text().trim();\n                $atozBrandsTable.children().each(function(){\n                    if( $(this).find('a').text().trim() == temp){\n                        $(this).find('a').addClass('disable');\n                    }\n                });\n            });\n        }, 3000);\n    }\n\n    loadMoreBrands($brands, url, recursive, limit) {\n        console.log(limit);\n        utils.api.getPage(url, {\n            template: 'autoimex/brands-list',\n            config: {\n                brands: {\n                    limit: limit,\n                },\n            },\n        }, (err, resp) => {\n            const $brandsList = $(resp).find('[data-brands-list]');\n            $brands.append($brandsList.children());\n\n            const $atozBrands = $(document.getElementById($brands.data('azbrands')));\n            if ($atozBrands.length > 0) {\n                this.updateAtoZBrands($brands, $atozBrands);\n            }\n\n            const nextUrl = $brandsList.data('brands-list-next');\n            if (nextUrl && recursive) {\n                this.loadMoreBrands($brands, nextUrl, recursive, limit);\n            }\n        });\n    }\n}\n","import PageManager from './page-manager';\nimport { hooks } from '@bigcommerce/stencil-utils';\nimport $ from 'jquery';\nimport AZBrands from './autoimex/autoimex_AZbrands';\n\nexport default class Brands extends PageManager {\n\tonReady() {\n\t\t// Brands list A to Z\n        if (this.context.themeSettings.autoimex_brandlayout === 'aztable') {\n            const azbrands = new AZBrands();\n            azbrands.loaded(this.context.themeSettings.brandpage_brands_per_page);\n        }\n\t}\n}\n"],"names":["AZBrands","_proto","prototype","loaded","limit","$brands","$","length","$atozBrands","document","getElementById","data","this","generateAtoZBrands","updateAtoZBrands","url","console","log","loadMoreBrands","azBrandsTableID","attr","$atozBrandsTable","append","i","ch","String","fromCharCode","addClass","children","on","event","preventDefault","$a","target","removeClass","parent","each","el","$el","code","letter","charAt","toLowerCase","$group","$li","$elIns","$brandList","find","j","el2","$el2","code2","insertAfter","appendTo","setTimeout","e","prev","temp","text","trim","recursive","_this","utils","getPage","template","config","brands","err","resp","$brandsList","nextUrl","Brands","_PageManager","apply","arguments","onReady","context","themeSettings","autoimex_brandlayout","brandpage_brands_per_page","PageManager"],"sourceRoot":""}