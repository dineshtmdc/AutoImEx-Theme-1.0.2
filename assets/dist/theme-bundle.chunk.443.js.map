{"version":3,"file":"theme-bundle.chunk.443.js","mappings":"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","sources":["webpack://bigcommerce-cornerstone/./assets/js/theme/category.js"],"sourcesContent":["import { hooks } from '@bigcommerce/stencil-utils';\nimport CatalogPage from './catalog';\nimport compareProducts from './global/compare-products';\nimport FacetedSearch from './common/faceted-search';\nimport Countdown from './autoimex/autoimex_countdown';\n\n\n\nexport default class Category extends CatalogPage {\n    onReady() {\n        compareProducts(this.context.urls);\n        \n        if ($('#facetedSearch').length > 0) {\n            this.initFacetedSearch();\n        } else {\n            this.onSortBySubmit = this.onSortBySubmit.bind(this);\n            hooks.on('sortBy-submitted', this.onSortBySubmit);\n        }\n\n        if($(window).outerWidth() <= 1024){\n            this.sidebar_mobile();\n        }\n        \n        this.category_sidebar();\n        this.carouselLeftSidebar();\n\n        $( window ).resize(function() {\n            if($(window).outerWidth() <= 1024){\n                if ($('.page-sidebar').length > 0) {\n                    $('.page-sidebar').appendTo($(\"#sidebar-mobile .autoimex_MobileContent\"));\n\n                    $('.autoimex_sidebar-mobile').on('click', function(e) {\n                        $('body').addClass('autoimex_open-Sidebar');\n                    });\n\n                    $('#sidebar-mobile .autoimex_close').on('click', function(ev) {\n                        $('body').removeClass('autoimex_open-Sidebar');\n                    });\n\n                    $('.bg-mobile').on('click', function(ev) {\n                        if ($('body').hasClass('autoimex_open-Sidebar')) {\n                            $('body').removeClass('autoimex_open-Sidebar');\n                        }\n                    });\n                }\n            }\n            else{\n                if ($('.page-sidebar').length > 0) {\n                    $('.page-sidebar').prependTo($(\".page > .autoimex_container\"));\n                    if ($('body').hasClass('autoimex_open-Sidebar')) {\n                        $('body').removeClass('autoimex_open-Sidebar');\n                    }\n                }\n            }\n        });\n\n         \n        //Countdown time product detail\n        var product_id = $('[data-product-id]').val();\n        Countdown(product_id);\n\n\n    }\n\n    initFacetedSearch() {\n        const $productListingContainer = $('#product-listing-container');\n        const $facetedSearchContainer = $('#faceted-search-container');\n        const productsPerPage = this.context.categoryProductsPerPage;\n        const requestOptions = {\n            config: {\n                category: {\n                    shop_by_price: true,\n                    products: {\n                        limit: productsPerPage,\n                    },\n                },\n            },\n            template: {\n                productListing: 'category/product-listing',\n                sidebar: 'category/sidebar',\n            },\n            showMore: 'category/show-more',\n        };\n\n        this.facetedSearch = new FacetedSearch(requestOptions, (content) => {\n            $productListingContainer.html(content.productListing);\n            $facetedSearchContainer.html(content.sidebar);\n\n            if($(window).outerWidth() <= 1024){\n                this.sidebar_mobile();\n            }\n\n            $('html, body').animate({\n                scrollTop: 0,\n            }, 100);\n        });\n    }\n\n    category_sidebar() {\n        if ($('.all-categories-list').length > 0) {\n            $('.all-categories-list .icon-dropdown').on('click', function() {\n                var $this = $(this).parent();\n                $this.siblings().removeClass('is-clicked');\n                $this.toggleClass('is-clicked');\n                $this.siblings().find(\"> .dropdown-category-list\").slideUp( \"slow\" );\n                $this.find(\"> .dropdown-category-list\").slideToggle( \"slow\" );\n           });\n        }\n    }\n\n    sidebar_mobile() {\n        if ($('.page-sidebar').length > 0) {\n            $('.page-sidebar').appendTo($(\"#sidebar-mobile .autoimex_MobileContent\"));\n\n            $('.autoimex_sidebar-mobile').on('click', function(e) {\n                $('body').addClass('autoimex_open-Sidebar');\n            });\n\n            $('#sidebar-mobile .autoimex_close').on('click', function(ev) {\n                $('body').removeClass('autoimex_open-Sidebar');\n            });\n\n            $('.bg-mobile').on('click', function(ev) {\n                if ($('body').hasClass('autoimex_open-Sidebar')) {\n                    $('body').removeClass('autoimex_open-Sidebar');\n                }\n            });\n        }\n    }\n\n    carouselLeftSidebar() {\n        $('.sidebarBlock .productCarousel').slick({\n            infinite: true,\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            dots: false,\n            arrows: true,\n            autoplay: true,\n            autoplaySpeed: 2000,\n            mobileFirst: true,\n            nextArrow: '<svg class=\"slick-next slick-arrow\"><use xlink:href=\"#slick-arrow-next1\"></use></svg>',\n            prevArrow: '<svg class=\"slick-prev slick-arrow\"><use xlink:href=\"#slick-arrow-prev1\"></use></svg>',\n            responsive: [\n                {\n                    breakpoint: 1025,\n                    settings: {\n                        slidesToShow: 1,\n                        slidesToScroll: 1,\n                        dots: true,\n                        arrows: true\n                    }\n                }\n            ]\n        });\n    }\n\n   \n\n\n}\n"],"names":["Category","_CatalogPage","apply","arguments","_proto","prototype","onReady","compareProducts","this","context","urls","$","length","initFacetedSearch","onSortBySubmit","bind","hooks","on","window","outerWidth","sidebar_mobile","category_sidebar","carouselLeftSidebar","resize","appendTo","e","addClass","ev","removeClass","hasClass","prependTo","product_id","val","Countdown","_this","$productListingContainer","$facetedSearchContainer","requestOptions","config","category","shop_by_price","products","limit","categoryProductsPerPage","template","productListing","sidebar","showMore","facetedSearch","FacetedSearch","content","html","animate","scrollTop","$this","parent","siblings","toggleClass","find","slideUp","slideToggle","slick","infinite","slidesToShow","slidesToScroll","dots","arrows","autoplay","autoplaySpeed","mobileFirst","nextArrow","prevArrow","responsive","breakpoint","settings","CatalogPage"],"sourceRoot":""}